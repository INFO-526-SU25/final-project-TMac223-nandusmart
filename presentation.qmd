---
title: "A Statistical Exploration of Himalayan Expeditions"
subtitle: "INFO 526 - Summer 2025 - Final Project"
author: "Trevor Macdonald & Nandakumar Kuthalaraja"
title-slide-attributes:
  data-background-image: images/HimalayanExpedition.png
  data-background-size: stretch
  data-background-opacity: "0.7"
  data-slide-number: none
  style: "color: white;"
format:
  revealjs:
    theme:  ['data/customtheming.scss']
  
editor: visual
execute:
  echo: false
---

```{r}
#| label: load-packages
#| include: false

# Load packages here
pacman::p_load(tidymodels,
               tidyverse)

```

```{r}
#| label: setup
#| include: false

# Plot theme
ggplot2::theme_set(ggplot2::theme_minimal(base_size = 11))

# For better figure resolution
knitr::opts_chunk$set(
  fig.retina = 3, 
  dpi = 300, 
  fig.width = 6, 
  fig.asp = 0.618 
  )
```


## Our Dataset

Himalayan Database - Created to continue the legacy of Elizabeth Hawley, a journalist who spent decades documenting Himalayan expeditions. 

Dataset - [**TidyTuesday GitHub repository**](https://github.com/rfordatascience/tidytuesday/tree/main/data/2025/2025-01-21)Â and has been amended to the years 2020 - 2024 to manage file size.

2 main datasets : 
- exped_tidy -  contains details of expeditions. 
- peaks_tidy -  includes data about the Himalayan Peaks.

# Question 1

```{r}
#| label: load-data
#| include: false
# Load data here

exped <- read_csv("data/exped_tidy.csv")
colnames(exped)
head(exped)

table(exped$SUCCESS1, useNA = "ifany")

```



```{r}
#| label: build model
#| include: false
#| echo: false
# Load data here

table(exped$SUCCESS1, useNA = "ifany")
exped2 <- exped %>%
  mutate(
    # Convert summit success to binary numeric (adjust if needed)
    success = ifelse(SUCCESS1 %in% c("Y", "Yes", "yes"), 1,
                     ifelse(SUCCESS1 %in% c("N", "No", "no"), 0, as.numeric(SUCCESS1))),
    peak = as.factor(PEAKID),
    team_size = as.numeric(TOTMEMBERS),
    oxygen = ifelse(O2USED %in% c("Y", "Yes", "yes"), 1,
                    ifelse(O2USED %in% c("N", "No", "no"), 0, as.numeric(O2USED))),
    season = as.factor(SEASON)
  ) %>%
  filter(!is.na(success), !is.na(team_size), !is.na(oxygen)) # Remove rows with missing values

model <- glm(
  success ~ peak + team_size + oxygen + season + YEAR,
  data = exped2,
  family = "binomial"
)
summary(model)

```





```{r}
exped2 %>%
  group_by(team_size) %>%
  summarize(success_rate = mean(success), n = n()) %>%
  filter(n > 3) %>%
  ggplot(aes(x = team_size, y = success_rate)) +
    geom_line() +
    labs(title = "Success Rate by Team Size", x = "Team Size", y = "Success Rate")
```

# Question 2

# Limitations:

1.  The source code of a LaTeX math expression must be in one line, unless it is inside a pair of double dollar signs, in which case the starting `$$` must appear in the very beginning of a line, followed immediately by a non-space character, and the ending `$$` must be at the end of a line, led by a non-space character;

2.  There should not be spaces after the opening `$` or before the closing `$`.

# Wrap up

